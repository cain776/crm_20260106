# 프론트엔드 리팩토링 검토 문서

> 작성일: 2026-01-07  
> 목적: MVP 프로토타입의 사이드바/메뉴 구조 개선 방안 검토

---

## 1. 현재 상황 및 문제점

### 1.1 기존 구조

```
slim_20251205/
├── index.html                    # 메인 페이지 (사이드바 포함)
├── pages/
│   ├── dashboard-surgery.html    # 전체 수술실적 (사이드바 복사)
│   ├── dashboard-doctor.html     # 원장단 수술실적 (사이드바 복사)
│   └── channel-care.html         # 채널 케어 (사이드바 복사 - 구버전)
├── css/
│   └── style.css
└── js/
    └── main.js
```

### 1.2 발생 문제

| 문제 | 설명 | 심각도 |
|------|------|--------|
| 사이드바 중복 | 각 HTML 파일에 동일한 사이드바 코드 복사됨 | 🔴 High |
| 메뉴 불일치 | channel-care.html은 구버전 메뉴 유지 중 | 🔴 High |
| 애니메이션 깜빡임 | 페이지 로드 시 메뉴 상태 복원 시 깜빡임 발생 | 🟡 Medium |
| 유지보수 어려움 | 메뉴 변경 시 모든 파일 수정 필요 | 🟡 Medium |

---

## 2. 리팩토링 옵션 비교

### 2.1 옵션 목록

| 옵션 | 설명 | 작업시간 | 유지보수 | MVP 적합 | 프로덕션 전환 |
|------|------|---------|---------|---------|--------------|
| A. 현재 유지 | 문제만 수정, 구조 유지 | 5분 | ❌ | ⭕⭕⭕ | ❌ |
| **B. JS 리팩토링** | **sidebar.js로 동적 생성** | **20분** | ⭕ | ⭕⭕⭕ | ❌ |
| C. Vite + Vanilla | 빌드도구 + 순수 JS | 1시간 | ⭕⭕ | ⭕⭕ | ⭕ |
| D. Vite + React | 빌드도구 + React | 2시간+ | ⭕⭕⭕ | ⭕ | ⭕⭕⭕ |
| E. Next.js | 풀스택 프레임워크 | 2시간+ | ⭕⭕⭕ | ❌ | ⭕⭕⭕ |
| F. Web Components | 네이티브 컴포넌트 | 40분 | ⭕⭕ | ⭕⭕ | ⭕ |

### 2.2 기술 스택 관계도

```
┌─────────────────────────────────────────────────────────┐
│                    빌드 도구 (Build Tool)               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐              │
│  │  Vite    │  │ Webpack  │  │  Turbo   │              │
│  └────┬─────┘  └──────────┘  └──────────┘              │
│       │                                                 │
│       ▼                                                 │
│  ┌─────────────────────────────────────────────────┐   │
│  │              UI 라이브러리 선택                   │   │
│  │  ┌─────────┐  ┌─────────┐  ┌─────────┐          │   │
│  │  │ Vanilla │  │  React  │  │   Vue   │          │   │
│  │  │   JS    │  │         │  │         │          │   │
│  │  └─────────┘  └─────────┘  └─────────┘          │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │         풀스택 프레임워크 (자체 빌드 포함)         │   │
│  │  ┌─────────┐  ┌─────────┐                       │   │
│  │  │ Next.js │  │  Nuxt   │                       │   │
│  │  │(React)  │  │ (Vue)   │                       │   │
│  │  └─────────┘  └─────────┘                       │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

### 2.3 Vite+Vanilla vs Next.js 비교

**Vite + Vanilla JS 장점**

| 장점 | 설명 |
|------|------|
| React 학습 불필요 | 현재 코드 스타일 그대로 |
| 전환 빠름 | 1시간 내 완료 가능 |

**Next.js 장점**

| 장점 | 설명 |
|------|------|
| 컴포넌트 재사용 | 사이드바/카드/차트 완전 모듈화 |
| 생태계 | 수천 개의 라이브러리 바로 사용 |
| API Routes | 백엔드 연동 내장 |
| SSR/SEO | 서버 사이드 렌더링 |
| 타입스크립트 | 안정성 |
| 프로덕션 바로 가능 | MVP 끝나면 그대로 서비스 런칭 |
| 취업/협업 | React 경험 = 시장 표준 |

**결론**: 어차피 프로덕션 가면 React/Next.js → 처음부터 Next.js가 맞음

---

## 3. 결정사항 및 완료 현황

### 3.1 선택: JS 리팩토링 (Option B) ✅ **완료**

**이유:**

- MVP/시안 목적으로 빠르게 문제 해결
- 추후 React/Next.js 전환은 별도 결정

### 3.2 리팩토링 결과

**새로운 구조:**

```
slim_20251205/
├── index.html                 # <div id="sidebar-container"></div> 사용
├── pages/
│   ├── dashboard-surgery.html # sidebar.js 연동
│   ├── dashboard-doctor.html  # sidebar.js 연동
│   └── channel-care.html      # sidebar.js 연동
├── css/
│   └── style.css
└── js/
    ├── main.js
    └── sidebar.js             # ✨ 신규 - 사이드바 동적 생성
```

**sidebar.js 주요 기능:**

1. `menuData` 배열에서 메뉴 구조 관리
2. 현재 페이지 자동 감지 및 active 상태 표시
3. localStorage 연동으로 서브메뉴 상태 유지
4. 애니메이션 깜빡임 방지 (transition 비활성화 후 복원)
5. 경로 자동 조정 (index vs pages 폴더)

### 3.3 해결된 문제

| 문제 | 해결 방법 | 상태 |
|------|----------|------|
| 사이드바 중복 | sidebar.js로 1개 파일에서 관리 | ✅ 해결 |
| 메뉴 불일치 | menuData 배열로 통일 | ✅ 해결 |
| 애니메이션 깜빡임 | 렌더링 시 transition 비활성화 | ✅ 해결 |
| 유지보수 어려움 | 메뉴 변경 시 menuData만 수정 | ✅ 해결 |

---

## 4. 추후 결정 필요 (프로덕션 단계)

| 옵션 | 적합 상황 |
|------|----------|
| Next.js | 실제 서비스 런칭, API 연동, 자체 개발 |
| Vite + React | SPA 형태, 백엔드 별도 |
| SI 외주 | 현재 MVP를 시안으로 제공 |

---

## 5. 작업 이력

| 일시 | 작업 | 상태 |
|------|------|------|
| 2026-01-07 | 리팩토링 옵션 검토 | ✅ 완료 |
| 2026-01-07 | JS 리팩토링 결정 | ✅ 완료 |
| 2026-01-07 | sidebar.js 생성 | ✅ 완료 |
| 2026-01-07 | index.html 적용 | ✅ 완료 |
| 2026-01-07 | dashboard-surgery.html 적용 | ✅ 완료 |
| 2026-01-07 | dashboard-doctor.html 적용 | ✅ 완료 |
| 2026-01-07 | channel-care.html 적용 | ✅ 완료 |
| 2026-01-07 | 전체 테스트 통과 | ✅ 완료 |

---

*문서 작성: Claude (AI Assistant)*
